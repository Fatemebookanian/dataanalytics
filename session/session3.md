# مدل 2SFCA و راه‌اندازی محیط پایتون در VS Code

## معرفی مدل 2SFCA (Two-Step Floating Catchment Area)

مدل **2SFCA** یکی از ابزارهای مهم در حوزه شهرسازی است که به‌ویژه در ارزیابی دسترسی به خدمات عمومی مانند خدمات بهداشتی و درمانی کاربرد دارد. این مدل به‌طور خاص برای شناسایی **نابرابری‌های فضایی** در دسترسی به منابع و خدمات شهری طراحی شده است.

در این مدل، ابتدا دسترسی به خدمات در هر منطقه با توجه به نزدیک‌ترین منابع خدماتی (مانند بیمارستان‌ها، مدارس، فضاهای سبز، ایستگاه‌های حمل‌ونقل و ...) ارزیابی می‌شود. به عبارت دیگر، هر مکان خدماتی به جمعیت‌های اطراف خود در یک شعاع مشخص، دسترسی می‌دهد. سپس این دسترسی‌ها برای هر نقطه جمعیتی تجمیع می‌شود تا **امتیاز کلی دسترسی به خدمات** برای هر ناحیه مشخص گردد.

مدل 2SFCA که ابتدا برای ارزیابی دسترسی به خدمات بهداشتی توسعه یافته بود، به‌تدریج در سایر حوزه‌ها نیز به‌کار گرفته شد و در شناسایی نابرابری‌های فضایی در زمینه‌های مختلفی همچون مراکز آموزشی، ایستگاه‌های حمل‌ونقل، و مراکز تجاری نیز مورد استفاده قرار گرفت. این مدل به متخصصان شهرسازی و برنامه‌ریزان کمک می‌کند تا مناطق کم‌دسترس یا نابرابر را شناسایی کرده و منابع را به‌طور مؤثرتر توزیع نمایند.

> مثال: با این مدل می‌توان مناطقی که به دلیل فاصله زیاد از بیمارستان‌ها یا مدارس دسترسی محدودی دارند را شناسایی و برنامه‌هایی برای بهبود دسترسی ارائه کرد.

---

## راه‌اندازی محیط پایتون در VS Code

### 1. نصب افزونه‌های مورد نیاز
برای استفاده از پایتون و **Jupyter Notebook** در VS Code، ابتدا باید افزونه‌های مربوطه را نصب کنید. سپس Jupyter Notebook را با دستور زیر نصب کنید:

```bash
pip install notebook
2. ایجاد و فعال‌سازی محیط مجازی

برای ایجاد یک محیط مجازی به نام GIS، دستور زیر را اجرا کنید:

python -m venv GIS

فعال‌سازی محیط مجازی

در ویندوز:

.\GIS\Scripts\activate


در لینوکس یا مک:

source GIS/bin/activate


پس از فعال‌سازی، تمامی بسته‌هایی که نصب می‌کنید فقط در این محیط مجازی فعال خواهند بود و از محیط اصلی سیستم جدا هستند.

3. نصب کتابخانه‌های مورد نیاز

برای پردازش داده‌ها و داده‌های جغرافیایی، کتابخانه‌های pandas و geopandas را نصب کنید:

pip install pandas geopandas


توضیح:

pandas برای پردازش داده‌های جدولی کاربرد دارد.

geopandas افزونه‌ای برای pandas است که داده‌های جغرافیایی (Shapefile، GeoJSON و ...) را مدیریت می‌کند.

4. بارگذاری داده‌های جغرافیایی

برای بارگذاری داده‌ها در GeoDataFrame:

import geopandas as gpd

gdf_hoods = gpd.read_file(r"data\mahallat.shp")
gdf_popblocks = gpd.read_file('data/pop/tehran_popblocks_95.shp')


gdf_hoods و gdf_popblocks داده‌های مربوط به محله‌ها و بلوک‌های جمعیتی تهران را نگه می‌دارند.

5. مشاهده و تغییر CRS داده‌ها

برای مشاهده سیستم مختصات داده‌ها (CRS):

print(gdf_hoods.crs)


برای تغییر CRS به EPSG:4326 (WGS 84):

gdf_hoods = gdf_hoods.to_crs(epsg=4326)


هماهنگ‌سازی CRS داده‌ها مهم است، زیرا داده‌ها با CRSهای مختلف ممکن است تحلیل‌های جغرافیایی اشتباه ایجاد کنند.
